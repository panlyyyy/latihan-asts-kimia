import React, { useState, useEffect, useRef } from 'react';
import { 
  ChevronLeft, 
  ChevronRight, 
  Clock, 
  User, 
  BookOpen, 
  Send,
  CheckCircle2,
  AlertCircle,
  Menu,
  X
} from 'lucide-react';

const examData = [
  {
    id: 1,
    question: "Perhatikan data hasil uji lakmus berikut ini:",
    hasTable: true,
    tableData: {
      headers: ["Larutan", "Lakmus Biru", "Lakmus Merah"],
      rows: [
        ["1", "Merah", "Biru"],
        ["2", "Biru", "Biru"],
        ["3", "Biru", "Biru"],
        ["4", "Merah", "Merah"],
        ["5", "Merah", "Merah"]
      ]
    },
    subQuestion: "Larutan yang mengandung ion OH⁻ lebih banyak daripada ion H⁺ adalah ....",
    options: ["1 dan 2", "1 dan 5", "2 dan 3", "2 dan 4", "3 dan 4"],
    answer: "C"
  },
  {
    id: 2,
    question: "Perhatikan data hasil uji pH beberapa indikator berikut:",
    hasTable: true,
    tableData: {
      headers: ["Indikator", "Trayek / Warna", "Hasil Uji Larutan"],
      rows: [
        ["Metil Merah", "4,2 – 6,3 / Merah – Kuning", "Kuning"],
        ["Metil Jingga", "2,9 – 4,0 / Merah – Kuning", "Kuning"],
        ["Bromtimol Biru", "6,0 – 7,6 / Kuning – Biru", "Biru"],
        ["Fenolftalein", "8,3 – 10 / Tak Berwarna – Merah", "Tak Berwarna"]
      ]
    },
    subQuestion: "Berdasarkan hasil uji, pH larutan tersebut diperkirakan berkisar pada angka...",
    options: ["2", "6", "7", "8", "10"],
    answer: "D"
  },
  {
    id: 3,
    question: "Data trayek pH dan perubahan warna beberapa indikator sebagai berikut:",
    hasTable: true,
    tableData: {
      headers: ["Indikator", "Trayek / Warna"],
      rows: [
        ["Metil Merah", "4,2 – 6,3 / Merah – Kuning"],
        ["Metil Jingga", "2,9 – 4,0 / Merah – Kuning"],
        ["Bromtimol Biru", "6,0 – 7,6 / Kuning – Biru"],
        ["Fenolftalein", "8,3 – 10 / Tak Berwarna – Merah"]
      ]
    },
    subQuestion: "Warna yang terjadi jika diteteskan larutan dengan pH = 7,8 adalah .....",
    options: [
      "Metil merah (merah) dan metil jingga (kuning)",
      "Metil jingga (kuning) dan bromtimol biru (kuning)",
      "Bromtimol biru (biru) dan fenolftalein (tak berwarna)",
      "Bromtimol biru (kuning) dan fenolftalein (merah)",
      "Metil merah (kuning) dan bromtimol biru (kuning)"
    ],
    answer: "C"
  },
  {
    id: 4,
    question: "Diketahui reaksi sebagai berikut: H₂O + CH₃COO⁻ ⇄ CH₃COOH + OH⁻",
    subQuestion: "Pasangan basa-asam konjugasi menurut teori asam-basa Bronsted-Lowry adalah ....",
    options: ["H₂O dan CH₃COO⁻", "CH₃COOH dan H₂O", "CH₃COOH dan H₂O", "CH₃COO⁻ dan CH₃COOH", "CH₃COOH dan OH⁻"],
    answer: "D"
  },
  {
    id: 5,
    question: "Perhatikan reaksi berikut: H⁺ + H₂O → H₃O⁺",
    subQuestion: "Pernyataan berikut yang sesuai dengan teori Lewis adalah .....",
    options: ["ion H⁺ adalah asam", "H₂O bersifat asam", "H₂O bersifat netral", "ion H⁺ bersifat basa", "H₃O⁺ netral"],
    answer: "A"
  },
  {
    id: 6,
    question: "Jika 100 ml larutan H₂SO₄ 0,2 M dicampur dengan 100 ml larutan H₂SO₄ 0,3 M, konsentrasi H⁺ dalam campuran adalah ....",
    options: ["0,2 M", "0,25 M", "0,3 M", "0,4 M", "0,5 M"],
    answer: "E"
  },
  {
    id: 7,
    question: "Larutan asam sulfat memiliki massa jenis 1,8 g/ml. Konsentrasi larutan asam sulfat dengan kadar 49% adalah (Ar O = 16, S = 32, H = 1)",
    options: ["0,9 M", "1,8 M", "9 M", "2,5 M", "18 M"],
    answer: "C"
  },
  {
    id: 8,
    question: "Larutan NaOH dalam air mengandung 10% massa NaOH (Mr = 40), maka molaritas 100 ml NaOH tersebut adalah .....",
    options: ["1/10", "1/100", "1,1", "1,3", "2,5"],
    answer: "E"
  },
  {
    id: 9,
    question: "Sebanyak 0,74 gram Ca(OH)₂ dilarutkan dalam 500 ml larutan, pH larutan yang terjadi adalah ..... (Ar Ca = 40, O = 16, H = 1)",
    options: ["2 – log 4", "2 + log 4", "11 + log 4", "12 + log 4", "12 + log 2"],
    answer: "D"
  },
  {
    id: 10,
    question: "Larutan asam asetat mempunyai pH = 3 dan Ka = 10⁻⁵ (Mr = 60) maka massa asam asetat dalam 500 ml larutan adalah .... gram",
    options: ["0,3", "0,6", "3", "6", "30"],
    answer: "C"
  },
  {
    id: 11,
    question: "Suatu larutan asam metanoat 0,1 M memiliki pH = 2. Derajat disosiasi asam adalah .....",
    options: ["0,01", "0,001", "0,1", "0,2", "30"],
    answer: "C"
  },
  {
    id: 12,
    question: "Volume air yang harus ditambahkan ke dalam 10 ml larutan HCl yang memiliki pH = 1 agar pH menjadi 2 adalah .....",
    options: ["10 ml", "20 ml", "90 ml", "100 ml", "990 ml"],
    answer: "C"
  },
  {
    id: 13,
    question: "Jika 300 ml larutan HCl 0,1 M dicampur dengan 200 ml H₂SO₄ 0,05 M maka akan diperoleh campuran dengan pH .....",
    options: ["1", "1 – log 2", "2", "2 – log 5", "3"],
    answer: "A"
  },
  {
    id: 14,
    question: "Jika dicampurkan 800 ml HCl 0,01 M dengan 200 ml NaOH 0,02 M, maka pH campurannya .....",
    options: ["12", "4", "3 + log 4", "3 – log 4", "3"],
    answer: "D"
  },
  {
    id: 15,
    question: "Untuk mendapatkan larutan dengan pH = 12 maka ke dalam 700 ml larutan KOH 0,1 M harus ditambahkan larutan H₂SO₄ 0,1 M sebanyak .......",
    options: ["100 ml", "300 ml", "500 ml", "700 ml", "1000 ml"],
    answer: "B"
  },
  {
    id: 16,
    question: "Perhatikan data hasil uji lakmus berikut ini:",
    hasTable: true,
    tableData: {
      headers: ["Larutan", "Lakmus Biru", "Lakmus Merah"],
      rows: [
        ["1", "Merah", "Biru"],
        ["2", "Biru", "Biru"],
        ["3", "Biru", "Biru"],
        ["4", "Merah", "Merah"],
        ["5", "Merah", "Merah"]
      ]
    },
    subQuestion: "Larutan yang mengandung ion H⁺ lebih banyak daripada ion OH⁻ adalah .....",
    options: ["1 dan 2", "1 dan 5", "2 dan 3", "2 dan 4", "4 dan 5"],
    answer: "E"
  },
  {
    id: 17,
    question: "Perhatikan data uji indikator berikut:",
    hasTable: true,
    tableData: {
      headers: ["Indikator", "Trayek / Warna", "Hasil Uji"],
      rows: [
        ["Metil Merah", "4,2 – 6,3 / Merah – Kuning", "Kuning"],
        ["Metil Jingga", "2,9 – 4,0 / Merah – Kuning", "Kuning"],
        ["Bromtimol Biru", "6,0 – 7,6 / Kuning – Biru", "Biru"],
        ["Fenolftalein", "8,3 – 10 / Tak Berwarna – Merah", "Tak Berwarna"]
      ]
    },
    subQuestion: "Berdasarkan hasil uji, pH larutan sekitar .....",
    options: ["2", "4", "7", "8", "di atas 10"],
    answer: "D"
  },
  {
    id: 18,
    question: "Basa konjugasi dari NH₃ adalah .....",
    options: ["NH₄OH", "NH₂⁺", "NH₂⁻", "H₂O", "NH₄⁺"],
    answer: "C"
  },
  {
    id: 19,
    question: "Diantara spesi berikut yang tidak mungkin sebagai asam Bronsted-Lowry adalah .....",
    options: ["H₂O", "NH₄⁺", "HClO₄", "CN⁻", "H₂PO₄⁻"],
    answer: "D"
  },
  {
    id: 20,
    question: "NaH larut dalam air menurut persamaan reaksi: H⁻ + H₂O → OH⁻ + H₂",
    subQuestion: "Pasangan asam-basa konjugasi menurut teori asam basa Bronsted-Lowry adalah .......",
    options: ["H⁻ dan H₂O", "H₂O dan OH⁻", "H₂ dan H₂O", "H⁺ dan OH⁻", "H₂ dan OH⁻"],
    answer: "B"
  },
  {
    id: 21,
    question: "Perhatikan reaksi berikut: H⁺ + NH₃ → NH₄⁺",
    subQuestion: "Pernyataan berikut yang sesuai dengan teori Lewis adalah .......",
    options: ["ion H⁺ adalah basa", "NH₃ bersifat basa", "NH₄⁺ bersifat asam", "ion H⁺ bersifat netral", "NH₃ netral"],
    answer: "B"
  },
  {
    id: 22,
    question: "Perhatikan tabel kekuatan asam berikut:",
    hasTable: true,
    tableData: {
      headers: ["Asam", "Ka"],
      rows: [
        ["HA", "6,2 x 10⁻⁸"],
        ["HB", "7,5 x 10⁻²"],
        ["HC", "1,2 x 10⁻²"],
        ["HD", "1,8 x 10⁻¹²"],
        ["HE", "6,7 x 10⁻⁵"]
      ]
    },
    subQuestion: "Berdasarkan tabel di atas urutan kekuatan asam dari yang paling lemah adalah .......",
    options: ["HA – HB – HC – HD – HE", "HD – HA – HE – HC – HB", "HC – HB – HD – HE – HA", "HB – HC – HE – HA – HD", "HD – HA – HE – HB – HC"],
    answer: "B"
  },
  {
    id: 23,
    question: "Derajat keasaman (pH) dari 100 ml H₂SO₄ 10⁻⁸ M adalah .......",
    options: ["6 + log 2", "7 – log 1,2", "7 + log 1,2", "8 – log 2", "8"],
    answer: "B"
  },
  {
    id: 24,
    question: "Pada suhu dan tekanan tertentu, harga tetapan kesetimbangan air, Kw = 5.10⁻¹³. Pada suhu dan tekanan yang sama jumlah [H⁺] dan pH larutan Ca(OH)₂ 0,0005 M adalah ......",
    options: ["5 x 10⁻¹⁰ M dan pH = 10 – log 5", "10⁻⁹ M dan pH = 9", "10⁻³ M dan pH = 3", "10⁻¹⁰ M dan pH = 10", "5 x 10⁻¹⁰ M dan pH = 10 + log 5"],
    answer: "A"
  },
  {
    id: 25,
    question: "Sebanyak 10 mL larutan asam asetat dengan pH = 3 dicampur air 90 ml. Berapakah pH larutan sekarang ? (Ka = 10⁻⁵)",
    options: ["2", "2,5", "3", "3,5", "4"],
    answer: "D"
  },
  {
    id: 26,
    question: "pH suatu larutan basa lemah valensi satu = 10, maka konsentrasi ion OH⁻ dalam larutan adalah ....",
    options: ["10⁻¹⁰ M", "10⁻⁸ M", "10⁻⁶ M", "10⁻⁵ M", "10⁻⁴ M"],
    answer: "E"
  },
  {
    id: 27,
    question: "Manakah oksida-oksida berikut yang jika dilarutkan dalam air akan menghasilkan asam ?",
    options: ["MgO", "SO₃", "FeO", "ZnO", "K₂O"],
    answer: "B"
  },
  {
    id: 28,
    question: "Pada reaksi: NH₃(aq) + H₂O(l) → NH₄⁺(aq) + OH⁻(aq)",
    subQuestion: "Pasangan basa-asam konjugasinya adalah ......",
    options: ["NH₃ / H₂O", "NH₄⁺ / OH⁻", "NH₃ / OH⁻", "NH₄⁺ / H₂O", "NH₃ / NH₄⁺"],
    answer: "E"
  },
  {
    id: 29,
    question: "Ion HCO₃⁻ bersifat amfiprotik yakni bisa bersifat asam maupun basa. Reaksi manakah yang menunjukkan HCO₃⁻ bersifat basa ?",
    options: [
      "HCO₃⁻ + H₂O → H₂CO₃ + OH⁻",
      "HCO₃⁻ + OH⁻ → CO₃²⁻ + H₂O",
      "HCO₃⁻ + NH₃ → CO₃²⁻ + NH₄⁺",
      "HCO₃⁻ → H⁺ + CO₃²⁻",
      "HCO₃⁻ + H₂O → CO₃²⁻ + H₃O⁺"
    ],
    answer: "A"
  },
  {
    id: 30,
    question: "Air pada suhu 25°C memiliki [H⁺] = [OH⁻]. Jika pada suhu tetap ke dalam air ditambahkan asam, maka pernyataan yang benar adalah .......",
    options: ["[H⁺] < [OH⁻]", "[H⁺] = [OH⁻]", "[H⁺] > [OH⁻]", "pH bertambah besar", "[OH⁻] bertambah"],
    answer: "C"
  },
  {
    id: 31,
    question: "Perhatikan data hasil percobaan titrasi larutan NaOH dengan larutan H₂SO₄ 0,2 M berikut ini:",
    hasTable: true,
    tableData: {
      headers: ["Percobaan", "Vol NaOH (mL)", "Vol H₂SO₄ (mL)"],
      rows: [
        ["1", "15", "7,60"],
        ["2", "15", "7,50"],
        ["3", "15", "7,40"]
      ]
    },
    subQuestion: "Dari data tersebut maka konsentrasi larutan NaOH adalah ………",
    options: ["0,1 M", "0,2 M", "0,3 M", "0,4 M", "0,5 M"],
    answer: "B"
  },
  {
    id: 32,
    question: "Sebanyak 2 gram cuplikan NaOH dilarutkan dalam 250 mL air. Kemudian 20 mL dan larutan ini dititrasi dengan larutan HCl 0,1 M. Jika data volume titrasi menunjukkan hasil yang setara dengan kadar NaOH, maka kadar NaOH dalam cuplikan tersebut adalah ……… (Mr NaOH = 40)",
    options: ["20%", "25%", "40%", "62,5%", "75%"],
    answer: "D"
  },
  {
    id: 33,
    question: "Pada percobaan titrasi larutan CH₃COOH dengan larutan NaOH menurut reaksi: CH₃COOH(aq) + NaOH(aq) → NaCH₃COO(aq) + H₂O(l)",
    subQuestion: "Grafik yang menunjukkan hasil titrasi tersebut memiliki karakteristik sebagai berikut:",
    options: [
      "Mulai dari pH < 7 (asam lemah) dan berakhir di pH > 7",
      "Mulai dari pH < 7 (asam kuat) dan berakhir di pH > 7",
      "Mulai dari pH > 7 dan berakhir di pH < 7",
      "Mulai dari pH < 7 (asam lemah) dan titik ekuivalen > 7",
      "Mulai dari pH 7 dan berakhir di pH 14"
    ],
    answer: "D"
  },
  {
    id: 34,
    question: "Pada percobaan titrasi larutan HCl dengan larutan NaOH berlangsung reaksi: HCl + NaOH → NaCl + H₂O",
    subQuestion: "Kurva yang menunjukkkan hasil titrasi tersebut ditandai dengan:",
    options: [
      "Mulai dari pH 1 dan titik ekuivalen tepat di pH 7",
      "Mulai dari pH 3 dan titik ekuivalen di pH 9",
      "Mulai dari pH 13 dan titik ekuivalen di pH 7",
      "Mulai dari pH 7 dan berakhir di pH 7",
      "Mulai dari pH 1 dan berakhir di pH 7"
    ],
    answer: "A"
  },
  {
    id: 35,
    question: "Berikut data hasil titrasi larutan HCl dengan larutan Ba(OH)₂ 0,2 M:",
    hasTable: true,
    tableData: {
      headers: ["Percobaan", "Vol HCl", "Vol Ba(OH)₂"],
      rows: [
        ["1", "15 mL", "30 mL"],
        ["2", "15 mL", "29 mL"],
        ["3", "15 mL", "31 mL"]
      ]
    },
    subQuestion: "Berdasarkan data tersebut, konsentrasi larutan HCl adalah ……… M.",
    options: ["0,2", "0,4", "0,6", "0,8", "1,0"],
    answer: "D"
  },
  {
    id: 36,
    question: "Perhatikan grafik titrasi asam basa! Jika volume larutan asam HX yang dititrasi sebanyak 20 mL dan titik ekuivalen tercapai saat penambahan 25 mL basa 0,1 M, konsentrasi HX adalah .......",
    options: ["0,075 M", "0,125 M", "0,08 M", "0,25 M", "0,10 M"],
    answer: "B"
  },
  {
    id: 37,
    question: "Perhatikan grafik titrasi asam basa berikut! Jika volume larutan basa LOH yang dititrasi sebanyak 10 mL maka konsentrasi larutan basa LOH itu adalah ......",
    options: ["0,25 M", "0,125 M", "0,1 M", "0,075 M", "0,025 M"],
    answer: "A"
  },
  {
    id: 38,
    question: "Data titrasi 10 mL larutan NaOH 0,1 M dengan larutan H₂SO₄ sebagai berikut:",
    hasTable: true,
    tableData: {
      headers: ["No", "Vol NaOH (mL)", "Vol H₂SO₄ (mL)"],
      rows: [
        ["1", "10", "4"],
        ["2", "10", "5"],
        ["3", "10", "6"]
      ]
    },
    subQuestion: "Massa H₂SO₄ yang bereaksi pada titrasi tersebut adalah ……… (Mr H₂SO₄ = 98)",
    options: ["0,049 gram", "9,800 gram", "19,600 gram", "29,400 gram", "98,000 gram"],
    answer: "A"
  },
  {
    id: 39,
    question: "Data titrasi 25 mL larutan H₂SO₄ 0,1 M dengan larutan KOH sebagai berikut:",
    hasTable: true,
    tableData: {
      headers: ["No", "Vol H₂SO₄ (mL)", "Vol KOH (mL)"],
      rows: [
        ["1", "25", "21"],
        ["2", "25", "19"],
        ["3", "25", "20"]
      ]
    },
    subQuestion: "Massa KOH yang bereaksi adalah …… (Mr KOH = 56)",
    options: ["0,14 gram", "0,28 gram", "1,4 gram", "2,80 gram", "14,0 gram"],
    answer: "B"
  },
  {
    id: 40,
    question: "Titrasi 10 mL larutan HNO₃ 0,1 M oleh larutan NaOH. Titik akhir titrasi dicapai setelah penambahan 20 mL larutan NaOH.",
    subQuestion: "Massa NaOH terlarut dalam 20 mL larutan NaOH tersebut adalah ………",
    options: ["0,04 gram", "0,08 gram", "0,40 gram", "0,80 gram", "4,00 gram"],
    answer: "A"
  },
  {
    id: 41,
    question: "Sebanyak 8 gram kristal NaOH dilarutkan dalam 1 liter larutan HCN 0,3 M. Bila Ka = 2 x 10⁻⁵ dan Ar Na = 23, maka besarnya pH campuran adalah .....",
    options: ["5 – log 2", "5", "6 – log 2", "9 + log 2", "10"],
    answer: "B"
  },
  {
    id: 42,
    question: "Sebanyak 50 mL larutan NH₄OH 0,01 M (Kb = 10⁻⁶) dicampur dengan 100 mL larutan NH₄Cl 0,5 M. Maka pH campurannya adalah .......",
    options: ["5", "6", "7", "8", "9"],
    answer: "B"
  },
  {
    id: 43,
    question: "Larutan 100 mL CH₃COOH 0,15 M dicampurkan dengan 50 mL larutan KOH 0,2 M. (Ka CH₃COOH = 10⁻⁵), maka pH campuran adalah ......",
    options: ["3 – log 6", "6 – log 5", "5 – log 3", "6 – log 3", "3 – log 5"],
    answer: "B"
  },
  {
    id: 44,
    question: "Sebanyak 100 mL larutan NH₃ 0,8 M dicampurkan dengan 50 mL larutan HCl 0,2 M. Bila Kb NH₃ = 10⁻⁴, maka pH campuran adalah .......",
    options: ["5 – log 3", "4 + log 3", "10 – log 3", "9 + log 3", "10 + log 7"],
    answer: "E"
  },
  {
    id: 45,
    question: "Pada 1 liter larutan asam lemah HA 0,3 M (Ka = 2 x 10⁻⁵) ditambah 0,2 mol KOH padat, maka pH larutan menjadi .......",
    options: ["4 – log 2", "4", "5", "5 – log 2", "9"],
    answer: "C"
  },
  {
    id: 46,
    question: "Campuran buffer yang dapat mempertahankan pH darah dalam tubuh kita adalah .......",
    options: ["HCN / CN⁻", "HCl / Cl⁻", "H₂CO₃ / HCO₃⁻", "CH₃COOH / CH₃COO⁻", "HCOOH / HCOO⁻"],
    answer: "C"
  },
  {
    id: 47,
    question: "Larutan buffer dapat dibuat dengan mencampurkan 100 mL larutan CH₃COOH 0,1 M dengan larutan...",
    options: [
      "80 mL natrium hidroksida 0,1 M",
      "100 mL natrium hidroksida 0,1 M",
      "120 mL natrium hidroksida 0,1 M",
      "50 mL asam klorida 0,1 M",
      "100 mL asam klorida 0,1 M"
    ],
    answer: "A"
  },
  {
    id: 48,
    question: "Campuran larutan di bawah ini yang merupakan campuran buffer adalah .......",
    options: [
      "50 mL HCl 0,5 M + 50 mL NaOH 0,1 M",
      "50 mL HCl 0,5 M + 50 mL NH₄OH 0,5 M",
      "50 mL HCl 0,2 M + 50 mL NH₄OH 0,5 M",
      "50 mL HCl 0,5 M + 50 mL NH₄OH 0,1 M",
      "50 mL HCl 0,1 M + 50 mL NaOH 0,5 M"
    ],
    answer: "C"
  },
  {
    id: 49,
    question: "Ke dalam 300 mL larutan CH₃COOH 0,1 M dicampurkan 50 mL larutan NaOH 0,2 M. (Ka CH₃COOH = 10⁻⁵), pH larutan akan berubah dari .......",
    options: [
      "3 menjadi 13 – log 2",
      "1 menjadi 5",
      "3 menjadi 5 – log 2",
      "1 menjadi 13 – log 2",
      "3 menjadi 14"
    ],
    answer: "C"
  },
  {
    id: 50,
    question: "Bila larutan NH₃ dan HCl dengan konsentrasi yang sama dicampurkan akan didapat larutan yang mempunyai harga pH = 9. Jika Kb = 10⁻⁵, maka perbandingan volume kedua larutan tersebut adalah ..",
    options: ["1 : 1", "1 : 2", "2 : 1", "3 : 2", "3 : 4"],
    answer: "C"
  },
  {
    id: 51,
    question: "Pada 1 liter larutan asam lemah HA 0,3 M (Ka = 2 x 10⁻⁵) ditambah 0,2 mol NaOH padat, maka pH campuran menjadi .......",
    options: ["3 – log 2", "4", "5 – log 2", "5", "6"],
    answer: "D"
  },
  {
    id: 52,
    question: "Ke dalam 1 liter larutan asam asetat 0,1 M yang pH-nya = 3 ditambahkan garam natrium asetat supaya pH-nya menjadi dua kali semula (Ka = 10⁻⁵). Garam natrium asetat yang ditambahkan sebanyak .......",
    options: ["0,0001 mol", "0,001 mol", "0,01 mol", "0,1 mol", "1,0 mol"],
    answer: "E"
  },
  {
    id: 53,
    question: "Banyaknya amonium sulfat (NH₄)₂SO₄ yang dilarutkan dalam 200 mL larutan NH₃ 0,1 M, agar pH- nya = 9 + log 2 adalah (Ar N = 14, S = 32 dan O = 16 serta Kb = 10⁻⁵)",
    options: ["330 mg", "660 mg", "132 mg", "464 mg", "960 mg"],
    answer: "B"
  },
  {
    id: 54,
    question: "Volume KOH 0,1 M yang harus ditambahkan ke dalam 50 mL larutan asam asetat 0,3 M agar diperoleh larutan penyangga dengan pH sebesar = 5 – log 2 (Ka = 10⁻⁵) adalah .......",
    options: ["15 mL", "25 mL", "30 mL", "50 mL", "75 mL"],
    answer: "D"
  },
  {
    id: 55,
    question: "Besarnya pH campuran dari 100 mL larutan NH₃ 0,4 M yang dicampurkan dengan 50 mL H₂SO₄ 0,2 M (Kb = 10⁻⁵) adalah .......",
    options: ["5", "5 – log 2", "8 + log 2", "9", "9 + log 2"],
    answer: "D"
  },
  {
    id: 56,
    question: "Larutan penyangga merupakan campuran dari ......",
    options: [
      "basa kuat dengan asam lemah",
      "basa kuat dengan garamnya",
      "basa lemah dengan garamnya",
      "asam kuat dengan garamnya",
      "asam lemah dengan basa lemah"
    ],
    answer: "C"
  },
  {
    id: 57,
    question: "Perhatikan data perubahan pH berikut:",
    hasTable: true,
    tableData: {
      headers: ["Larutan", "Awal", "+ Asam Kuat", "+ Basa Kuat"],
      rows: [
        ["1", "2,48", "2,32", "13,45"],
        ["2", "2,32", "1,70", "13,01"],
        ["3", "4,73", "4,66", "12,52"],
        ["4", "4,75", "4,76", "4,76"],
        ["5", "4,75", "1,45", "12,55"]
      ]
    },
    subQuestion: "Larutan yang mempunyai sifat penyangga adalah .......",
    options: ["1", "2", "3", "4", "5"],
    answer: "D"
  },
  {
    id: 58,
    question: "Beberapa campuran:\n1. 100 mL HCl 0,1 M dengan 50 mL NaOH 0,1 M\n2. 100 mL CH₃COOH 0,1 M dengan 50 mL CH₃COOH 0,1 M\n3. 100 mL H₂SO₄ 0,1 M dengan 50 mL NaOH 0,1 M\n4. 100 mL CH₃COOH 0,1 M dengan 50 mL NaOH 0,1 M\n5. 100 mL NH₄OH 0,1 M dengan 50 mL HCl 0,1 M",
    subQuestion: "Campuran yang membentuk penyangga yang bersifat asam adalah .......",
    options: ["1", "2", "3", "4", "5"],
    answer: "D"
  },
  {
    id: 59,
    question: "Sebanyak 20 mL larutan NH₃ 0,30 M (Kb = 10⁻⁵) dicampur dengan 40 mL larutan HCl 0,10 M. pH campuran adalah .......",
    options: ["1", "3", "4,301", "8,669", "9,301"],
    answer: "D"
  },
  {
    id: 60,
    question: "Larutan 25 mL NH₄OH 0,2 M (Kb = 10⁻⁵) dicampur dengan 25 mL larutan HCl 0,1 M. pH larutan yang terjadi adalah .......",
    options: ["5", "5,5", "8,5", "9", "13"],
    answer: "D"
  },
  {
    id: 61,
    question: "Satu liter larutan yang mengandung 0,1 mol NH₃ (Kb = 10⁻⁵) dan 0,05 mol (NH₄)₂SO₄ mempunyai pH yaitu .......",
    options: ["5", "5 – log 2", "9", "9 – log 2", "9 + log 2"],
    answer: "C"
  },
  {
    id: 62,
    question: "Pasangan larutan berikut ini yang menghasilkan larutan penyangga adalah ......",
    options: [
      "50 mL CH₃COOH 0,1 M + 50 mL NaOH 0,25 M",
      "50 mL CH₃COOH 0,1 M + 50 mL HCl 0,1 M",
      "50 mL HCN 0,05 M + 50 mL NaOH 0,05 M",
      "50 mL NH₄OH 0,1 M + 50 mL HCl 0,05 M",
      "50 mL NaOH 0,1 M + 50 mL HCl 0,1 M"
    ],
    answer: "D"
  },
  {
    id: 63,
    question: "Larutan 20 mL HCOOH 0,3 M (Ka = 2 x 10⁻⁵) dicampur dengan 40 mL larutan KOH 0,1 M. Harga pH larutan yang terjadi adalah .......",
    options: ["1", "3", "5", "8", "10"],
    answer: "C"
  },
  {
    id: 64,
    question: "pH campuran dari 200 mL NH₄OH 0,1 M dengan 200 mL NH₄Cl 0,1 M adalah (Kb = 10⁻⁵)",
    options: ["5", "7", "9", "11", "13"],
    answer: "C"
  },
  {
    id: 65,
    question: "Jika kedalam 200 mL larutan NH₄OH 0,2 M dicampurkan larutan NH₄Cl dengan volume dan konsentrasi yang sama, maka pH larutan adalah .......",
    options: ["5", "6", "8", "9", "10"],
    answer: "D"
  },
  {
    id: 66,
    question: "Diketahui sistem penyangga:\n1. NH₄OH dan NH₄⁺\n2. H₂CO₃ dan HCO₃⁻\n3. CH₃COOH dan CH₃COO⁻\n4. H₂PO₄⁻ dan HPO₄²⁻",
    subQuestion: "Sistem penyangga yang terdapat dalam cairan intrasel dan ekstrasel tubuh adalah .......",
    options: ["1 dan 2", "1 dan 3", "2 dan 3", "2 dan 4", "3 dan 4"],
    answer: "D"
  },
  {
    id: 67,
    question: "Kegunaan larutan penyangga dalam bidang biologi/medis adalah ......",
    options: [
      "untuk pembuatan obat-obatan (aspirin)",
      "untuk mengatur pH tanah",
      "untuk mengoptimalkan kerja enzim",
      "untuk analisis kualitatif",
      "untuk analisis kuantitatif"
    ],
    answer: "A"
  },
  {
    id: 68,
    question: "Di antara larutan berikut ini yang merupakan garam terhidrolisis parsial bersifat basa adalah .......",
    options: ["NaNO₂", "(NH₄)₂SO₄", "K₃PO₄", "AlCl₃", "CaSO₄"],
    answer: "C"
  },
  {
    id: 69,
    question: "Diantara garam berikut ini yang terhidrolisis total adalah .......",
    options: ["Cu(CH₃COO)₂", "Al₂(SO₄)₃", "Fe(NO₃)₃", "NH₄Cl", "NaCl"],
    answer: "A"
  },
  {
    id: 70,
    question: "Dari larutan berikut yang memiliki pH di bawah 7 adalah .......",
    options: ["(NH₄)₃PO₄", "Ca(CH₃COO)₂", "NaCN", "NH₄Cl", "KClO₄"],
    answer: "D"
  },
  {
    id: 71,
    question: "Ion yang dapat mengalami hidrolisis dalam air adalah .......",
    options: ["NO₃⁻", "Zn²⁺", "Ca²⁺", "Cl⁻", "H⁺"],
    answer: "B"
  },
  {
    id: 72,
    question: "Diketahui reaksi hidrolisis: BH⁺ + H₂O → B + H₃O⁺",
    subQuestion: "Garam yang mengalami hidrolisis sesuai persamaan di atas adalah .......",
    options: ["AlF₃", "NH₄Cl", "Ca(NO₃)₂", "(NH₄)₂CO₃", "KI"],
    answer: "B"
  },
  {
    id: 73,
    question: "Perhatikan data uji lakmus beberapa garam:",
    hasTable: true,
    tableData: {
      headers: ["Garam", "Lakmus Merah", "Lakmus Biru"],
      rows: [
        ["1. (NH₄)₂SO₄", "Biru", "Biru"],
        ["2. Al₂(SO₄)₃", "Merah", "Biru"],
        ["3. Ca(NO₂)₂", "Biru", "Biru"],
        ["4. NH₄F", "Merah", "Merah"],
        ["5. NH₄Br", "Merah", "Merah"]
      ]
    },
    subQuestion: "Garam yang mengalami hidrolisis sesuai dengan hasil uji lakmusnya adalah .......",
    options: ["1 dan 2", "3 dan 5", "2 dan 4", "1 dan 3", "4 dan 5"],
    answer: "B"
  },
  {
    id: 74,
    question: "Peristiwa hidrolisis tidak terjadi pada larutan .......",
    options: ["AlF₃", "Na₃PO₄", "Li₂CO₃", "BaBr₂", "(NH₄)₂SO₄"],
    answer: "D"
  },
  {
    id: 75,
    question: "Perhatikan data perubahan pH beberapa larutan:",
    hasTable: true,
    tableData: {
      headers: ["Larutan", "Air", "Asam Kuat", "Basa Kuat"],
      rows: [
        ["1", "2,48", "2,32", "13,45"],
        ["2", "12,32", "12,29", "12,30"],
        ["3", "4,73", "4,66", "12,52"],
        ["4", "4,75", "4,76", "9,76"],
        ["5", "4,75", "1,45", "12,55"]
      ]
    },
    subQuestion: "Larutan yang mempunyai sifat penyangga adalah .......",
    options: ["1", "2", "3", "4", "5"],
    answer: "B"
  }
];

const QuestionTable = ({ data }) => (
  <div className="my-6 overflow-hidden border border-slate-200 rounded-xl shadow-sm bg-white">
    <div className="overflow-x-auto">
      <table className="w-full text-sm text-left border-collapse">
        <thead className="bg-slate-50 border-b border-slate-200">
          <tr>
            {data.headers.map((header, i) => (
              <th key={i} className="px-4 py-3 font-bold text-slate-700 uppercase tracking-wider border-r border-slate-200 last:border-0">
                {header}
              </th>
            ))}
          </tr>
        </thead>
        <tbody className="divide-y divide-slate-200">
          {data.rows.map((row, i) => (
            <tr key={i} className="hover:bg-indigo-50/40 transition-colors">
              {row.map((cell, j) => (
                <td key={j} className="px-4 py-3 text-slate-600 font-medium border-r border-slate-100 last:border-0">
                  {cell}
                </td>
              ))}
            </tr>
          ))}
        </tbody>
      </table>
    </div>
  </div>
);

const App = () => {
  const [currentIdx, setCurrentIdx] = useState(0);
  const [answers, setAnswers] = useState({});
  const [timeLeft, setTimeLeft] = useState(7200);
  const [isSidebarOpen, setIsSidebarOpen] = useState(false);
  const [isFinished, setIsFinished] = useState(false);
  const [showConfirm, setShowConfirm] = useState(false);
  const mainRef = useRef(null);

  useEffect(() => {
    if (timeLeft > 0 && !isFinished) {
      const timer = setInterval(() => setTimeLeft(prev => prev - 1), 1000);
      return () => clearInterval(timer);
    } else if (timeLeft === 0) {
      setIsFinished(true);
    }
  }, [timeLeft, isFinished]);

  const handleNav = (newIdx) => {
    setCurrentIdx(newIdx);
    setIsSidebarOpen(false);
    if (mainRef.current) mainRef.current.scrollTo(0, 0);
  };

  const formatTime = (seconds) => {
    const h = Math.floor(seconds / 3600);
    const m = Math.floor((seconds % 3600) / 60);
    const s = seconds % 60;
    return `${h.toString().padStart(2, '0')}:${m.toString().padStart(2, '0')}:${s.toString().padStart(2, '0')}`;
  };

  const currentQuestion = examData[currentIdx];
  const totalAnswered = Object.keys(answers).length;

  if (isFinished) {
    return (
      <div className="min-h-screen bg-slate-100 flex items-center justify-center p-4 font-sans">
        <div className="bg-white rounded-3xl shadow-2xl p-8 max-w-md w-full text-center border border-slate-200">
          <div className="w-24 h-24 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-inner">
            <CheckCircle2 size={48} />
          </div>
          <h1 className="text-3xl font-black text-slate-800 mb-2">Ujian Selesai!</h1>
          <p className="text-slate-500 mb-8 font-medium">Jawaban Anda telah berhasil terkirim ke server pusat.</p>
          <div className="grid grid-cols-2 gap-4 mb-8">
            <div className="bg-slate-50 p-4 rounded-2xl border border-slate-100">
              <span className="block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1">Total Soal</span>
              <span className="text-2xl font-black text-slate-800">75</span>
            </div>
            <div className="bg-slate-50 p-4 rounded-2xl border border-slate-100">
              <span className="block text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1">Terjawab</span>
              <span className="text-2xl font-black text-indigo-600">{totalAnswered}</span>
            </div>
          </div>
          <button 
            onClick={() => window.location.reload()}
            className="w-full py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl font-black transition-all shadow-xl shadow-indigo-100"
          >
            KELUAR APLIKASI
          </button>
        </div>
      </div>
    );
  }

  return (
    <div className="flex flex-col h-screen bg-slate-50 text-slate-900 overflow-hidden font-sans">
      {/* Header */}
      <header className="bg-white border-b border-slate-200 h-20 flex items-center justify-between px-4 md:px-10 z-50 flex-shrink-0 shadow-sm">
        <div className="flex items-center gap-4">
          <button 
            onClick={() => setIsSidebarOpen(!isSidebarOpen)}
            className="p-3 bg-slate-50 text-slate-600 rounded-2xl md:hidden hover:bg-slate-100 transition-all"
          >
            {isSidebarOpen ? <X size={24} /> : <Menu size={24} />}
          </button>
          <div className="flex items-center gap-3">
            <div className="w-12 h-12 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-xl shadow-indigo-100">
              <BookOpen size={24} />
            </div>
            <div className="hidden sm:block">
              <h1 className="text-lg font-black text-slate-800 leading-none">ASTS KIMIA XI</h1>
              <p className="text-[10px] text-indigo-500 font-black tracking-widest mt-1 uppercase">Computer Based Test</p>
            </div>
          </div>
        </div>

        <div className="flex items-center gap-4 md:gap-8">
          <div className={`flex items-center gap-2 px-4 py-2 rounded-2xl font-mono text-xl font-black border-2 transition-all ${timeLeft < 600 ? 'bg-rose-50 border-rose-200 text-rose-600 animate-pulse' : 'bg-slate-50 border-slate-200 text-slate-700'}`}>
            <Clock size={20} />
            {formatTime(timeLeft)}
          </div>
          <div className="hidden lg:flex items-center gap-3 bg-slate-50 border border-slate-200 px-4 py-2 rounded-2xl">
            <div className="w-8 h-8 bg-slate-200 rounded-full flex items-center justify-center">
              <User size={16} className="text-slate-500" />
            </div>
            <span className="text-xs font-black text-slate-600 tracking-tighter uppercase">PESERTA-11-IPA</span>
          </div>
        </div>
      </header>

      <div className="flex flex-1 overflow-hidden relative">
        {/* Sidebar */}
        {isSidebarOpen && (
          <div 
            className="fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-40 md:hidden transition-all"
            onClick={() => setIsSidebarOpen(false)}
          />
        )}
        
        <aside 
          className={`fixed md:relative inset-y-0 left-0 z-50 w-80 bg-white border-r border-slate-200 transition-all duration-300 flex flex-col ${isSidebarOpen ? 'translate-x-0' : '-translate-x-full md:translate-x-0 shadow-2xl md:shadow-none'}`}
        >
          <div className="p-6 border-b border-slate-100 flex items-center justify-between">
            <h2 className="font-black text-slate-800 flex items-center gap-2 uppercase tracking-tight text-sm">
              Navigasi Soal
              <span className="bg-indigo-100 text-indigo-600 px-2 py-0.5 rounded-lg text-[10px]">75 ITEM</span>
            </h2>
            <button onClick={() => setIsSidebarOpen(false)} className="md:hidden text-slate-400">
              <X size={20} />
            </button>
          </div>
          
          <div className="flex-1 overflow-y-auto p-6 scrollbar-thin">
            <div className="grid grid-cols-5 gap-3">
              {examData.map((_, idx) => (
                <button
                  key={idx}
                  onClick={() => handleNav(idx)}
                  className={`aspect-square rounded-xl text-[11px] font-black border-2 transition-all ${
                    currentIdx === idx 
                    ? 'bg-indigo-600 border-indigo-600 text-white shadow-lg shadow-indigo-100 scale-110 z-10' 
                    : answers[idx] 
                    ? 'bg-emerald-50 border-emerald-400 text-emerald-600' 
                    : 'bg-slate-50 border-slate-100 text-slate-400 hover:border-slate-300'
                  }`}
                >
                  {idx + 1}
                </button>
              ))}
            </div>
          </div>

          <div className="p-6 bg-slate-50 border-t border-slate-200">
            <div className="flex justify-between text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2">
              <span>Progres</span>
              <span>{Math.round((totalAnswered/75)*100)}%</span>
            </div>
            <div className="h-2.5 bg-slate-200 rounded-full mb-6 overflow-hidden">
              <div className="bg-indigo-600 h-full transition-all duration-700" style={{ width: `${(totalAnswered/75)*100}%` }} />
            </div>
            <button 
              onClick={() => setShowConfirm(true)}
              className="w-full flex items-center justify-center gap-2 py-4 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl font-black transition-all shadow-xl shadow-indigo-100 group"
            >
              <Send size={18} className="group-hover:translate-x-1 group-hover:-translate-y-1 transition-transform" />
              KIRIM JAWABAN
            </button>
          </div>
        </aside>

        {/* Main Content */}
        <main 
          ref={mainRef}
          className="flex-1 overflow-y-auto bg-slate-50 p-4 md:p-10 scroll-smooth"
        >
          <div className="max-w-3xl mx-auto">
            <div className="bg-white rounded-[2.5rem] shadow-xl shadow-slate-200/50 border border-slate-200 overflow-hidden mb-8">
              {/* Question Header */}
              <div className="bg-slate-50/50 px-8 py-6 border-b border-slate-200 flex justify-between items-center">
                <div className="flex flex-col">
                  <span className="text-[10px] font-black text-indigo-400 uppercase tracking-[0.2em]">Pertanyaan Nomor</span>
                  <span className="text-3xl font-black text-slate-800 mt-1">{currentIdx + 1}</span>
                </div>
                <div className="px-4 py-2 bg-white border-2 border-slate-200 rounded-2xl shadow-sm">
                  <span className="text-xs font-black text-slate-400 tracking-tighter">BOBOT: 1.0</span>
                </div>
              </div>

              {/* Question Body */}
              <div className="p-8 md:p-12">
                <div className="text-lg md:text-xl text-slate-700 leading-relaxed font-bold mb-6">
                  {currentQuestion.question}
                </div>

                {currentQuestion.hasTable && <QuestionTable data={currentQuestion.tableData} />}

                {currentQuestion.subQuestion && (
                  <div className="p-5 bg-indigo-50/50 border-l-4 border-indigo-500 rounded-r-2xl text-slate-800 font-black mb-8 italic">
                    {currentQuestion.subQuestion}
                  </div>
                )}

                <div className="space-y-4">
                  {currentQuestion.options.map((opt, i) => {
                    const char = String.fromCharCode(65 + i);
                    const isSelected = answers[currentIdx] === char;
                    return (
                      <button
                        key={i}
                        onClick={() => setAnswers({...answers, [currentIdx]: char})}
                        className={`w-full group text-left flex items-start gap-5 p-5 rounded-3xl border-2 transition-all duration-200 ${
                          isSelected 
                          ? 'bg-indigo-50 border-indigo-600 ring-8 ring-indigo-50/50 translate-x-2' 
                          : 'bg-white border-slate-100 hover:border-slate-300 hover:bg-slate-50'
                        }`}
                      >
                        <div className={`flex-shrink-0 w-10 h-10 rounded-2xl flex items-center justify-center font-black text-base transition-all ${
                          isSelected ? 'bg-indigo-600 text-white rotate-3 shadow-lg' : 'bg-slate-100 text-slate-400 group-hover:scale-105'
                        }`}>
                          {char}
                        </div>
                        <span className={`pt-1.5 text-base md:text-lg font-black ${isSelected ? 'text-indigo-900' : 'text-slate-600'}`}>
                          {opt}
                        </span>
                      </button>
                    );
                  })}
                </div>
              </div>
            </div>

            {/* Pagination */}
            <div className="flex justify-between items-center gap-6">
              <button
                disabled={currentIdx === 0}
                onClick={() => handleNav(currentIdx - 1)}
                className="flex items-center gap-3 px-8 py-5 bg-white border-2 border-slate-200 text-slate-600 rounded-[2rem] font-black hover:bg-slate-100 disabled:opacity-20 transition-all shadow-sm"
              >
                <ChevronLeft size={24} />
                <span className="hidden sm:inline">KEMBALI</span>
              </button>
              
              <div className="text-center">
                <div className="text-[10px] font-black text-slate-300 tracking-[0.3em] uppercase mb-1">Status</div>
                <div className="text-sm font-black text-slate-500">{currentIdx + 1} dari 75</div>
              </div>

              <button
                disabled={currentIdx === examData.length - 1}
                onClick={() => handleNav(currentIdx + 1)}
                className="flex items-center gap-3 px-10 py-5 bg-slate-800 text-white rounded-[2rem] font-black hover:bg-slate-900 transition-all shadow-xl shadow-slate-200"
              >
                <span className="hidden sm:inline">LANJUT</span>
                <ChevronRight size={24} />
              </button>
            </div>
          </div>
        </main>
      </div>

      {/* Modals */}
      {showConfirm && (
        <div className="fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/60 backdrop-blur-md">
          <div className="bg-white rounded-[3rem] p-10 max-w-sm w-full shadow-2xl animate-in zoom-in duration-300 text-center border-2 border-slate-100">
            <div className="w-24 h-24 bg-amber-100 text-amber-600 rounded-[2.5rem] flex items-center justify-center mx-auto mb-8 rotate-6 shadow-inner">
              <AlertCircle size={48} />
            </div>
            <h3 className="text-3xl font-black text-slate-800 mb-3 leading-tight">Yakin Selesai?</h3>
            <p className="text-slate-500 mb-10 font-bold leading-relaxed">Anda sudah menjawab {totalAnswered} dari 75 soal. Jawaban tidak bisa diubah setelah ini.</p>
            <div className="flex flex-col gap-4">
              <button 
                onClick={() => setIsFinished(true)}
                className="w-full py-5 bg-indigo-600 text-white rounded-[1.5rem] font-black text-sm shadow-xl shadow-indigo-100 hover:bg-indigo-700 transition-all"
              >
                YA, SAYA SELESAI
              </button>
              <button 
                onClick={() => setShowConfirm(false)}
                className="w-full py-5 bg-slate-100 text-slate-500 rounded-[1.5rem] font-black text-sm hover:bg-slate-200 transition-all"
              >
                TIDAK, KEMBALI
              </button>
            </div>
          </div>
        </div>
      )}
    </div>
  );
};

export default App;

